<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google-Like Search Suggest</title>
</head>
<body>
    <div class="search-container">
        <form id="search-form" action="/s" method="GET">
            <input type="text" id="search-input" name="query" placeholder="Search..." autocomplete="off">
        </form>
        <div id="suggestions"></div>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', function () {
    const searchInput = document.getElementById('search-input');
    const suggestionsContainer = document.getElementById('suggestions');

    searchInput.addEventListener('input', async function () {
        const query = searchInput.value;
        if (query.length === 0) {
            suggestionsContainer.innerHTML = '';
            return;
        }

        const suggestions = await fetchSuggestions(query);
        displaySuggestions(suggestions);
    });

    suggestionsContainer.addEventListener('click', function (e) {
        if (e.target && e.target.classList.contains('suggestion-item')) {
            searchInput.value = e.target.textContent;
            document.getElementById('search-form').submit();
        }
    });

    async function fetchSuggestions(query) {
        const response = await fetch(`https://suggestqueries.google.com/complete/search?client=firefox&q=${query}`);
        const data = await response.json();
        return data[1];
    }

    function displaySuggestions(suggestions) {
        suggestionsContainer.innerHTML = '';
        suggestions.forEach(suggestion => {
            const div = document.createElement('div');
            div.classList.add('suggestion-item');
            div.textContent = suggestion;
            suggestionsContainer.appendChild(div);
        });
    }
});
</script>
</body>
</html>
